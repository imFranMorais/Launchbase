{% extends "layout.njk" %}

{% block content %}
<div class="card">
    <section 
        class="avatar" 
        style="background: url({{student.avatarUrl}}) no-repeat center center / cover">

    </section>
    <section class="details">

        <h3>Detalhes</h3>
 
        <div class="item">
            <div>Nome completo</div>
            <div>{{student.name}}</div>
        </div>

        <div class="item">
            <div>Aniversário</div>
            <div>{{student.birth}}</div>
        </div>

        <div class="item">
            <div>Email</div>
            <div>{{student.email}}</div>
        </div>

        <div class="item">
            <div>Carga Horária Semanal</div>
            <div>{{student.weeklyWorkload}}</div>
        </div>

        <div class="item">
            <div>Ano Escolar</div>
            <div>{{student.schoolYear}}</div>
        </div>
        

        <div class="button-side">
                <a href="/students/{{student.id}}/edit" class="button">Editar</a>
                <form id="form-delete" action="/students?_method=DELETE" method="post">
                    <input type="hidden" name="id" value={{student.id}}>
                <button type="submit" class="delete">Deletar</button>
                </form>
        </div> 

        <script>
            const formDelete = document.querySelector("#form-delete")
            formDelete.addEventListener("submit", function(event) {
                const confirmation = confirm("Deseja deletar?")
                if(!confirmation) {
                    event.preventDefault()
                }
            })
        </script>
        


    </section>
</div>




{% endblock content %}